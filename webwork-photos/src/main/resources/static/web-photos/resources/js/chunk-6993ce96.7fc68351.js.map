{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/Album.vue?26e0","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./src/views/Album.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/UploadOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/FileImageOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/FileImageOutlined.js","webpack:///./src/request/PhotoRequest.ts","webpack:///./src/views/Album.vue?fa8f","webpack:///./src/views/Album.vue?1337"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","toPrimitive","definePropertyModule","createPropertyDescriptor","object","key","value","propertyKey","f","fails","METHOD_NAME","argument","method","call","$","toObject","nativeKeys","FAILS_ON_PRIMITIVES","target","stat","forced","keys","it","DESCRIPTORS","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","getOwnPropertyDescriptors","descriptor","O","getOwnPropertyDescriptor","result","index","size","handleBack","name","action","accept","multiple","data","albumId","withCredentials","show-upload-list","before-upload","beforeUpload","handleUpload","photos","description","item","hoverable","id","cover","alt","preview","src","photoSrc","onView","actions","title","onCover","onEdit","ok-text","cancel-text","onDelete","visible","photoInfoDialog","confirm-loading","confirmLoading","onSavePhoto","ref","model","formData","rules","colon","label-col","wrapper-col","label","placeholder","show-count","maxlength","rows","bordered","disabled","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","_objectSpread2","i","source","defineProperties","_objectSpread","concat","props","context","p","attrs","AntdIcon","displayName","inheritAttrs","photo","photoId","query","AxiosRequest","request","formRef","onVisibleChange","required","message","max","Number","$route","listQuery","then","res","code","msg","thumbObjectName","setCover","success","deletePhoto","formUnref","validate","update","catch","console","log","$router","back","startsWith","file","isLt5M","type","info","status","response","components","EditOutlined","DeleteOutlined","UploadOutlined","FileImageOutlined","render","__scopeId"],"mappings":"qGAAA,IAAIA,EAAS,EAAQ,QACjBC,EAAe,EAAQ,QACvBC,EAAU,EAAQ,QAClBC,EAA8B,EAAQ,QAE1C,IAAK,IAAIC,KAAmBH,EAAc,CACxC,IAAII,EAAaL,EAAOI,GACpBE,EAAsBD,GAAcA,EAAWE,UAEnD,GAAID,GAAuBA,EAAoBJ,UAAYA,EAAS,IAClEC,EAA4BG,EAAqB,UAAWJ,GAC5D,MAAOM,GACPF,EAAoBJ,QAAUA,K,oCCXlC,IAAIO,EAAW,EAAQ,QAAgCP,QACnDQ,EAAsB,EAAQ,QAE9BC,EAAgBD,EAAoB,WAIxCE,EAAOC,QAAWF,EAEd,GAAGT,QAF2B,SAAiBY,GACjD,OAAOL,EAASM,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,K,oCCT1E,W,kCCCA,IAAIC,EAAc,EAAQ,QACtBC,EAAuB,EAAQ,QAC/BC,EAA2B,EAAQ,QAEvCT,EAAOC,QAAU,SAAUS,EAAQC,EAAKC,GACtC,IAAIC,EAAcN,EAAYI,GAC1BE,KAAeH,EAAQF,EAAqBM,EAAEJ,EAAQG,EAAaJ,EAAyB,EAAGG,IAC9FF,EAAOG,GAAeD,I,2DCP7B,IAAIG,EAAQ,EAAQ,QAEpBf,EAAOC,QAAU,SAAUe,EAAaC,GACtC,IAAIC,EAAS,GAAGF,GAChB,QAASE,GAAUH,GAAM,WAEvBG,EAAOC,KAAK,KAAMF,GAAY,WAAc,MAAM,GAAM,Q,qBCP5D,IAAIG,EAAI,EAAQ,QACZC,EAAW,EAAQ,QACnBC,EAAa,EAAQ,QACrBP,EAAQ,EAAQ,QAEhBQ,EAAsBR,GAAM,WAAcO,EAAW,MAIzDF,EAAE,CAAEI,OAAQ,SAAUC,MAAM,EAAMC,OAAQH,GAAuB,CAC/DI,KAAM,SAAcC,GAClB,OAAON,EAAWD,EAASO,Q,qBCX/B,IAAIR,EAAI,EAAQ,QACZS,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAC1BC,EAAiC,EAAQ,QACzCC,EAAiB,EAAQ,QAI7Bb,EAAE,CAAEI,OAAQ,SAAUC,MAAM,EAAMS,MAAOL,GAAe,CACtDM,0BAA2B,SAAmCzB,GAC5D,IAKIC,EAAKyB,EALLC,EAAIN,EAAgBrB,GACpB4B,EAA2BN,EAA+BlB,EAC1Da,EAAOG,EAAQO,GACfE,EAAS,GACTC,EAAQ,EAEZ,MAAOb,EAAKtB,OAASmC,EACnBJ,EAAaE,EAAyBD,EAAG1B,EAAMgB,EAAKa,WACjClC,IAAf8B,GAA0BH,EAAeM,EAAQ5B,EAAKyB,GAE5D,OAAOG,M,kLCjBwC,M,iBAaN,U,gqBAhB3C,eA4DW,Q,WA3DT,iBAoBkB,CApBlB,eAoBkB,Q,WAnBhB,iBAkBQ,CAlBR,eAkBQ,Q,WAjBR,iBAA0D,CAA1D,eAA0D,GAAhDE,KAAK,UAAW,QAAO,EAAAC,Y,YAAY,iBAAE,C,0BAC/C,eAeW,GAdTC,KAAK,OACLC,OAAO,sBACPC,OAAO,UACNC,UAAU,EACVC,KAAI,SAAY,EAAAC,SAChBC,iBAAiB,EACjBC,oBAAkB,EAClBC,gBAAe,EAAAC,aACf,SAAQ,EAAAC,c,YAET,iBAGW,CAHX,eAGW,Q,WAFT,iBAAmC,CAAnC,eAAmC,G,gFAMzC,eAqCmB,Q,WApCjB,iBAA0D,CAA9B,IAAb,EAAAC,OAAOjD,Q,iBAAtB,eAA0D,G,MAArBkD,YAAa,Q,0CAClD,eAYS,2BAZ+B,EAAAD,QAAM,SAArBE,EAAMhB,G,wBAA/B,eAYS,GAZDiB,UAAA,GAAyC9C,IAAK6C,EAAKE,I,CAC9CC,MAAK,GACd,iBAC2B,CAD3B,eAC2B,GADjBC,IAAKJ,EAAKb,KAAOkB,QAAS,aAAqBC,IAAK,EAAAC,SAASP,GACpE,QAAK,mBAAE,EAAAQ,OAAOxB,K,oCAERyB,QAAO,GAChB,iBAAuE,CAAvE,eAAuE,GAAlDtD,IAAI,QAAQuD,MAAM,OAAQ,QAAK,mBAAE,EAAAC,QAAQX,K,oBAC9D,eAA6D,GAA9C7C,IAAI,OAAOuD,MAAM,KAAM,QAAK,mBAAE,EAAAE,OAAOZ,K,oBACpD,eAEe,GAFDU,MAAM,eAAeG,UAAQ,IAAIC,cAAY,IAAK,UAAO,mBAAE,EAAAC,SAASf,K,YAChF,iBAA6C,CAA7C,eAA6C,GAA5B7C,IAAI,SAASuD,MAAM,a,iDAW1C,eAcU,GAdOM,QAAS,EAAAC,gBAAgBD,Q,kDAAhB,EAAAC,gBAAgBD,QAAO,IAAGN,MAAO,EAAAO,gBAAgBP,MACxEQ,kBAAiB,EAAAD,gBAAgBE,eAAiB,KAAI,EAAAC,a,YACvD,iBAWS,CAXT,eAWS,GAXDC,IAAI,UAAWC,MAAO,EAAAC,SAAWC,MAAO,EAAAA,MAAQC,OAAO,EAC7DC,YAAW,SAAcC,cAAa,W,YACtC,iBAEc,CAFd,eAEc,GAFDC,MAAM,KAAKzC,KAAK,Q,YAC3B,iBAAoG,CAApG,eAAoG,GAAnF/B,MAAO,EAAAmE,SAASpC,K,gDAAT,EAAAoC,SAASpC,KAAI,IAAE0C,YAAY,OAAO5C,KAAK,QAAQ6C,aAAA,GAAYC,UAAW,I,4BAEhG,eAEc,GAFDH,MAAM,KAAKzC,KAAK,e,YAC3B,iBAAgF,CAAhF,eAAgF,GAA5D/B,MAAO,EAAAmE,SAASxB,Y,gDAAT,EAAAwB,SAASxB,YAAW,IAAE8B,YAAY,OAAQG,KAAM,G,4BAE7E,eAEc,GAFDJ,MAAM,KAAKzC,KAAK,W,YAC3B,iBAA+F,CAA/F,eAA+F,GAArF/B,MAAO,EAAAmD,SAAS,EAAAgB,UAAYU,UAAU,EAAQC,UAAU,EAAML,YAAY,U,wMCxDjF,SAASM,EAAgBC,EAAKjF,EAAKC,GAYhD,OAXID,KAAOiF,EACTC,OAAOC,eAAeF,EAAKjF,EAAK,CAC9BC,MAAOA,EACPmF,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZL,EAAIjF,GAAOC,EAGNgF,ECVT,SAAS9D,EAAQpB,EAAQwF,GACvB,IAAIvE,EAAOkE,OAAOlE,KAAKjB,GAEvB,GAAImF,OAAOM,sBAAuB,CAChC,IAAIC,EAAUP,OAAOM,sBAAsBzF,GACvCwF,IAAgBE,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOT,OAAOvD,yBAAyB5B,EAAQ4F,GAAKP,eAEtDpE,EAAK4E,KAAKC,MAAM7E,EAAMyE,GAGxB,OAAOzE,EAGM,SAAS8E,EAAejF,GACrC,IAAK,IAAIkF,EAAI,EAAGA,EAAItG,UAAUC,OAAQqG,IAAK,CACzC,IAAIC,EAAyB,MAAhBvG,UAAUsG,GAAatG,UAAUsG,GAAK,GAE/CA,EAAI,EACN5E,EAAQ+D,OAAOc,IAAS,GAAMrH,SAAQ,SAAUqB,GAC9CmF,EAAetE,EAAQb,EAAKgG,EAAOhG,OAE5BkF,OAAO1D,0BAChB0D,OAAOe,iBAAiBpF,EAAQqE,OAAO1D,0BAA0BwE,IAEjE7E,EAAQ+D,OAAOc,IAASrH,SAAQ,SAAUqB,GACxCkF,OAAOC,eAAetE,EAAQb,EAAKkF,OAAOvD,yBAAyBqE,EAAQhG,OAKjF,OAAOa,E,wHChCL,EAAiB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gTAAoT,KAAQ,SAAU,MAAS,YAC5d,I,YCAf,SAASqF,EAAcrF,GAAU,IAAK,IAAIkF,EAAI,EAAGA,EAAItG,UAAUC,OAAQqG,IAAK,CAAE,IAAIC,EAAyB,MAAhBvG,UAAUsG,GAAab,OAAOzF,UAAUsG,IAAM,GAAQ5E,EAAU+D,OAAOlE,KAAKgF,GAAqD,oBAAjCd,OAAOM,wBAAwCrE,EAAUA,EAAQgF,OAAOjB,OAAOM,sBAAsBQ,GAAQN,QAAO,SAAUC,GAAO,OAAOT,OAAOvD,yBAAyBqE,EAAQL,GAAKP,gBAAmBjE,EAAQxC,SAAQ,SAAUqB,GAAO,EAAgBa,EAAQb,EAAKgG,EAAOhG,OAAa,OAAOa,EAEhe,SAAS,EAAgBoE,EAAKjF,EAAKC,GAAiK,OAApJD,KAAOiF,EAAOC,OAAOC,eAAeF,EAAKjF,EAAK,CAAEC,MAAOA,EAAOmF,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBL,EAAIjF,GAAOC,EAAgBgF,EAO3M,IAAI,EAAiB,SAAwBmB,EAAOC,GAClD,IAAIC,EAAIJ,EAAc,GAAIE,EAAOC,EAAQE,OAEzC,OAAO,OAAiBC,EAAA,KAAU,OAAgBF,EAAG,CACnD,KAAQ,IACN,OAGN,EAAeG,YAAc,iBAC7B,EAAeC,cAAe,EACf,QCpBX,EAAoB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,waAA4a,KAAQ,aAAc,MAAS,YAC3lB,ICAf,SAAS,EAAc7F,GAAU,IAAK,IAAIkF,EAAI,EAAGA,EAAItG,UAAUC,OAAQqG,IAAK,CAAE,IAAIC,EAAyB,MAAhBvG,UAAUsG,GAAab,OAAOzF,UAAUsG,IAAM,GAAQ5E,EAAU+D,OAAOlE,KAAKgF,GAAqD,oBAAjCd,OAAOM,wBAAwCrE,EAAUA,EAAQgF,OAAOjB,OAAOM,sBAAsBQ,GAAQN,QAAO,SAAUC,GAAO,OAAOT,OAAOvD,yBAAyBqE,EAAQL,GAAKP,gBAAmBjE,EAAQxC,SAAQ,SAAUqB,GAAO,EAAgBa,EAAQb,EAAKgG,EAAOhG,OAAa,OAAOa,EAEhe,SAAS,EAAgBoE,EAAKjF,EAAKC,GAAiK,OAApJD,KAAOiF,EAAOC,OAAOC,eAAeF,EAAKjF,EAAK,CAAEC,MAAOA,EAAOmF,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBL,EAAIjF,GAAOC,EAAgBgF,EAO3M,IAAI,EAAoB,SAA2BmB,EAAOC,GACxD,IAAIC,EAAI,EAAc,GAAIF,EAAOC,EAAQE,OAEzC,OAAO,OAAiBC,EAAA,KAAU,OAAgBF,EAAG,CACnD,KAAQ,IACN,OAGN,EAAkBG,YAAc,oBAChC,EAAkBC,cAAe,EAClB,Q,gDCjBF,EAAb,wKAEI,SAAOC,GACH,yEAA2B,sBAAuBA,KAH1D,yBAOI,SAAYC,GACR,sGAAiDA,MARzD,uBAYI,SAAUC,GACN,yEAAgC,0BAA2BA,OAbnE,GAAuCC,EAAA,MAgBjCC,EAAU,IAAI,EACL,I,wBCoBM,EAArB,yG,0BAEE,EAAAC,QAAU,iBAEV,EAAArE,OAAuB,GAEvB,EAAAO,QAAU,CACRW,SAAS,EAEToD,gBAAiB,SAACpD,GAChB,EAAKX,QAAQW,QAAUA,IAK3B,EAAAC,gBAAkB,CAChBP,MAAO,OACPM,SAAS,EACTG,gBAAgB,GAIlB,EAAAI,SAAuB,GAEvB,EAAAC,MAAQ,CACNrC,KAAM,CAAC,CAAEkF,UAAU,EAAMC,QAAS,YAAc,CAAEC,IAAK,GAAID,QAAS,gBACpEvE,YAAa,CAAC,CAAEwE,IAAK,IAAKD,QAAS,kBAIrC,EAAA9E,QAAU,EA9BZ,gDAiCE,WAAO,WACL7C,KAAK6C,QAAUgF,OAAO7H,KAAK8H,OAAOT,MAAMxE,SACxC7C,KAAK6C,SAAW,EAAQkF,UAAU,CAAElF,QAAS7C,KAAK6C,UAAWmF,MAAK,SAAAC,GAC/C,IAAbA,EAAIC,KACN,EAAK/E,OAAS8E,EAAIrF,KAElB+E,EAAA,KAAQlI,MAAMwI,EAAIE,UAvC1B,oBAgDE,SAAO9F,GACLrC,KAAK0D,QAAQW,SAAU,IAjD3B,oBAyDE,SAAO8C,GACLnH,KAAK4E,SAAL,KAAqBuC,GACrBnH,KAAKsE,gBAAgBD,SAAU,IA3DnC,qBAkEE,SAAQ8C,GACN,IAAM3D,EAAQ,CAAEA,MAAO2D,EAAMiB,gBAAiBvF,QAAS7C,KAAK6C,SAC5D,OAASwF,SAAS7E,GAAOwE,MAAK,SAAAC,GACX,IAAbA,EAAIC,KACNP,EAAA,KAAQW,QAAR,aAAsBnB,EAAM3E,KAA5B,aAEAmF,EAAA,KAAQlI,MAAMwI,EAAIE,UAxE1B,sBAiFE,SAAShB,GAAiB,WACxB,EAAQoB,YAAYpB,EAAM5D,IAAcyE,MAAK,SAAAC,GAC1B,IAAbA,EAAIC,KACNP,EAAA,KAAQlI,MAAMwI,EAAIE,MAElBR,EAAA,KAAQW,QAAQ,QAChB,EAAKnF,OAAS,EAAKA,OAAO+C,QAAO,SAAA7C,GAAI,OAAIA,EAAKE,KAAO4D,EAAM5D,YAvFnE,yBA+FE,WAAW,WACHiF,EAAY,eAAMxI,KAAKwH,SAC7BgB,GAAaA,EAAUC,WAAWT,KAArB,wCAA0B,8FACnC,EAAK7E,OAAOhE,SAAQ,SAAAkE,GACdA,EAAKE,KAAO,EAAKqB,SAASrB,IAC5B,EAAQmF,OAAO,eAAM,EAAK9D,WAAWoD,MAAK,SAAAC,GACvB,IAAbA,EAAIC,KACNP,EAAA,KAAQlI,MAAMwI,EAAIE,MAElB9E,EAAKb,KAAO,EAAKoC,SAASpC,KAC1Ba,EAAKD,YAAc,EAAKwB,SAASxB,YACjC,EAAKkB,gBAAgBD,SAAU,SATJ,4CAclCsE,OAAM,SAAClJ,GACRmJ,QAAQC,IAAI,QAASpJ,QAhH7B,wBAuHE,WACEO,KAAK8I,QAAQC,SAxHjB,sBA+HE,SAAS5B,GAAiB,MACxB,iBAAIA,EAAMiB,uBAAV,OAAI,EAAuBY,WAAW,QAC7B7B,EAAMiB,gBAEN,kBAAoBjB,EAAMiB,kBAnIvC,0BA0IE,SAAaa,GAAc,MACnBC,EAASD,EAAK3G,KAAO,KAAO,KAAO,EAIzC,OAHK4G,GACHvB,EAAA,KAAQlI,MAAM,iBAETyJ,IAAM,UAAID,EAAKE,YAAT,aAAI,EAAWH,WAAW,aA/I3C,0BAqJE,SAAaI,GACX,GAAyB,cAArBA,EAAKH,KAAKI,OACZ,OAAO,EAEwB,MAGxB,EAHgB,SAArBD,EAAKH,KAAKI,SACqB,KAA7B,UAAAD,EAAKH,KAAKK,gBAAV,eAAoBpB,MACtBlI,KAAKmD,OAAOiD,KAAKgD,EAAKH,KAAKK,SAAS1G,MAEpC+E,EAAA,KAAQlI,MAAR,UAAc2J,EAAKH,KAAKK,gBAAxB,aAAc,EAAoBnB,MAGb,UAArBiB,EAAKH,KAAKI,QACZ1B,EAAA,KAAQlI,MAAM,YAjKpB,GAAmC,QAAd,EAAK,gBARzB,eAAQ,CACP8J,WAAY,CACVC,eAAA,KACAC,iBAAA,KACAC,eAAA,EACAC,kBAAA,MAGiB,W,UCpCrB,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"resources/js/chunk-6993ce96.7fc68351.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Album.vue?vue&type=style&index=0&id=76330f4c&lang=scss&scoped=true\"","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","<template>\r\n  <a-layout>\r\n    <a-layout-header>\r\n      <a-space>\r\n      <a-button size=\"default\" @click=\"handleBack\">返回</a-button>\r\n      <a-upload\r\n        name=\"file\"\r\n        action=\"/album-photo/upload\"\r\n        accept=\"image/*\"\r\n        :multiple=\"true\"\r\n        :data=\"{albumId: albumId}\"\r\n        :withCredentials=\"true\"\r\n        :show-upload-list=\"false\"\r\n        :before-upload=\"beforeUpload\"\r\n        @change=\"handleUpload\"\r\n      >\r\n        <a-button>\r\n          <upload-outlined></upload-outlined>\r\n          上传照片\r\n        </a-button>\r\n      </a-upload>\r\n    </a-space>\r\n    </a-layout-header>\r\n    <a-layout-content>\r\n      <a-empty v-if=\"photos.length === 0\" :description=\"null\" />\r\n      <a-card hoverable v-for=\"item, index in photos\" :key=\"item.id\">\r\n        <template #cover>\r\n          <a-image :alt=\"item.name\" :preview=\"{ visible: false }\" :src=\"photoSrc(item)\"\r\n            @click=\"onView(index)\" />\r\n        </template>\r\n        <template #actions>\r\n          <file-image-outlined key=\"cover\" title=\"设为封面\" @click=\"onCover(item)\" />\r\n          <edit-outlined key=\"edit\" title=\"编辑\" @click=\"onEdit(item)\" />\r\n          <a-popconfirm title=\"您确定要删除这张照片吗？\" ok-text=\"是\" cancel-text=\"否\" @confirm=\"onDelete(item)\">\r\n            <delete-outlined key=\"delete\" title=\"删除照片\" />\r\n          </a-popconfirm>\r\n        </template>\r\n      </a-card>\r\n      <!-- 暂不支持，可能需要升级版本 -->\r\n      <!-- <div style=\"display: none;\">\r\n        <a-image-preview-group :preview=\"preview\">\r\n          <a-image v-for=\"photo in photos\" :key=\"photo.id\" :src=\"photoSrc(photo)\" />\r\n        </a-image-preview-group>\r\n      </div> -->\r\n      <!-- 照片信息弹框 -->\r\n      <a-modal v-model:visible=\"photoInfoDialog.visible\" :title=\"photoInfoDialog.title\"\r\n        :confirm-loading=\"photoInfoDialog.confirmLoading\" @ok=\"onSavePhoto\">\r\n        <a-form ref=\"formRef\" :model=\"formData\" :rules=\"rules\" :colon=\"false\"\r\n         :label-col=\"{ span: 3 }\" :wrapper-col=\"{ span: 21 }\">\r\n          <a-form-item label=\"名称\" name=\"name\">\r\n            <a-input v-model:value=\"formData.name\" placeholder=\"照片名称\" size=\"large\" show-count :maxlength=\"10\" />\r\n          </a-form-item>\r\n          <a-form-item label=\"描述\" name=\"description\">\r\n            <a-textarea v-model:value=\"formData.description\" placeholder=\"照片描述\" :rows=\"4\" />\r\n          </a-form-item>\r\n          <a-form-item label=\"地址\" name=\"address\">\r\n            <a-input :value=\"photoSrc(formData)\" :bordered=\"false\" :disabled=\"true\" placeholder=\"照片对象地址\" />\r\n          </a-form-item>\r\n        </a-form>\r\n      </a-modal>\r\n    </a-layout-content>\r\n  </a-layout>\r\n</template>\r\n<script lang=\"ts\">\r\nimport {\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  UploadOutlined,\r\n  FileImageOutlined\r\n} from '@ant-design/icons-vue'\r\nimport { AlbumPhoto } from '@/types/AlbumPhoto'\r\nimport { Options, Vue } from 'vue-class-component'\r\nimport request from '@/request/PhotoRequest'\r\nimport albumReq from '@/request/AlbumRequest'\r\nimport { message } from 'ant-design-vue'\r\nimport { ref, unref, toRaw } from 'vue'\r\nimport { ValidateErrorEntity } from 'ant-design-vue/lib/form/interface'\r\nimport { R } from '@/types/R'\r\n\r\n// 上传文件类型\r\ninterface FileItem {\r\n  uid: string;\r\n  name?: string;\r\n  status?: string;\r\n  response?: R<any>;\r\n  url?: string;\r\n  type?: string;\r\n  size: number;\r\n  originFileObj: any;\r\n}\r\n// 上传文件信息\r\ninterface FileInfo {\r\n  file: FileItem;\r\n  fileList: FileItem[];\r\n}\r\n\r\n@Options({\r\n  components: {\r\n    EditOutlined,\r\n    DeleteOutlined,\r\n    UploadOutlined,\r\n    FileImageOutlined\r\n  }\r\n})\r\nexport default class Album extends Vue {\r\n  // 表单引用\r\n  formRef = ref<AntType.Form>()\r\n  // 照片\r\n  photos: AlbumPhoto[] = []\r\n  // 照片预览\r\n  preview = {\r\n    visible: false,\r\n    // current: 1,\r\n    onVisibleChange: (visible: boolean) => {\r\n      this.preview.visible = visible\r\n    }\r\n  }\r\n\r\n  // 照片弹框\r\n  photoInfoDialog = {\r\n    title: '照片信息',\r\n    visible: false,\r\n    confirmLoading: false\r\n  }\r\n\r\n  // 照片信息\r\n  formData: AlbumPhoto = {}\r\n\r\n  rules = {\r\n    name: [{ required: true, message: '照片名称不能为空' }, { max: 10, message: '照片名称最多10个字符' }],\r\n    description: [{ max: 100, message: '照片描述最多100个字符' }]\r\n  }\r\n\r\n  // 相册ID\r\n  albumId = 0\r\n\r\n  // 加载图片\r\n  mounted() {\r\n    this.albumId = Number(this.$route.query.albumId)\r\n    this.albumId && request.listQuery({ albumId: this.albumId }).then(res => {\r\n      if (res.code === 0) {\r\n        this.photos = res.data\r\n      } else {\r\n        message.error(res.msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 预览图片\r\n   * @param index 图片下标\r\n   */\r\n  onView(index: number) {\r\n    this.preview.visible = true\r\n    // this.preview.current = index\r\n  }\r\n\r\n  /**\r\n   * 编辑照片\r\n   * @param photo 照片对象\r\n   */\r\n  onEdit(photo: AlbumPhoto) {\r\n    this.formData = { ...photo }\r\n    this.photoInfoDialog.visible = true\r\n  }\r\n\r\n  /**\r\n   * 将照片设为相册封面\r\n   * @param photo 照片\r\n   */\r\n  onCover(photo: AlbumPhoto) {\r\n    const cover = { cover: photo.thumbObjectName, albumId: this.albumId }\r\n    albumReq.setCover(cover).then(res => {\r\n      if (res.code === 0) {\r\n        message.success(`照片<${photo.name}>已设为相册封面`)\r\n      } else {\r\n        message.error(res.msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 删除照片\r\n   * @param photo 照片对象\r\n   */\r\n  onDelete(photo: AlbumPhoto) {\r\n    request.deletePhoto(photo.id as number).then(res => {\r\n      if (res.code !== 0) {\r\n        message.error(res.msg)\r\n      } else {\r\n        message.success('删除成功')\r\n        this.photos = this.photos.filter(item => item.id !== photo.id)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 保存照片信息\r\n   */\r\n  onSavePhoto() {\r\n    const formUnref = unref(this.formRef)\r\n    formUnref && formUnref.validate().then(async () => {\r\n        this.photos.forEach(item => {\r\n          if (item.id === this.formData.id) {\r\n            request.update(toRaw(this.formData)).then(res => {\r\n              if (res.code !== 0) {\r\n                message.error(res.msg)\r\n              } else {\r\n                item.name = this.formData.name\r\n                item.description = this.formData.description\r\n                this.photoInfoDialog.visible = false\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }).catch((error: ValidateErrorEntity<unknown>) => {\r\n        console.log('error', error)\r\n      })\r\n  }\r\n\r\n  /**\r\n   * 返回主页\r\n   */\r\n  handleBack() {\r\n    this.$router.back()\r\n  }\r\n\r\n  /**\r\n   * 返回照片可访问地址\r\n   * @param photo 照片对象\r\n   */\r\n  photoSrc(photo: AlbumPhoto) {\r\n    if (photo.thumbObjectName?.startsWith('http')) {\r\n      return photo.thumbObjectName\r\n    } else {\r\n      return '/file/download/' + photo.thumbObjectName\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 上传前验证\r\n   */\r\n  beforeUpload(file: FileItem) {\r\n    const isLt5M = file.size / 1024 / 1024 < 5\r\n    if (!isLt5M) {\r\n      message.error('上传照片不能大于 5MB!')\r\n    }\r\n    return isLt5M && file.type?.startsWith('image/')\r\n  }\r\n\r\n  /**\r\n   * 上传照片\r\n   */\r\n  handleUpload(info: FileInfo) {\r\n    if (info.file.status === 'uploading') {\r\n      return false\r\n    }\r\n    if (info.file.status === 'done') {\r\n      if (info.file.response?.code === 0) {\r\n        this.photos.push(info.file.response.data)\r\n      } else {\r\n        message.error(info.file.response?.msg as string)\r\n      }\r\n    }\r\n    if (info.file.status === 'error') {\r\n      message.error('上传失败')\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.ant-layout {\r\n  background-color: #fff;\r\n}\r\n.ant-layout-header {\r\n  padding: 0px;\r\n  margin: 0px 50px;\r\n  background-color: #fff;\r\n  border-bottom: 1px solid silver;\r\n}\r\n.ant-layout-content {\r\n  padding: 25px 50px;\r\n  background-color: #fff;\r\n}\r\n\r\n.ant-card {\r\n  margin: 0px 30px 30px 0px;\r\n  width: 250px;\r\n  display: inline-block;\r\n}\r\n\r\n.ant-card img {\r\n  height: 280px;\r\n  max-width: 100%;\r\n}\r\n::v-deep(.ant-card-body) {\r\n  display: none;\r\n}\r\n::v-deep(.ant-image-img) {\r\n  height: 280px;\r\n  max-width: 100%;\r\n}\r\n</style>\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UploadOutlined = function UploadOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": UploadOutlinedSvg\n  }), null);\n};\n\nUploadOutlined.displayName = 'UploadOutlined';\nUploadOutlined.inheritAttrs = false;\nexport default UploadOutlined;","// This icon file is generated automatically.\nvar FileImageOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0zm494.6-153.4L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z\" } }] }, \"name\": \"file-image\", \"theme\": \"outlined\" };\nexport default FileImageOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport FileImageOutlinedSvg from \"@ant-design/icons-svg/es/asn/FileImageOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FileImageOutlined = function FileImageOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": FileImageOutlinedSvg\n  }), null);\n};\n\nFileImageOutlined.displayName = 'FileImageOutlined';\nFileImageOutlined.inheritAttrs = false;\nexport default FileImageOutlined;","import { AlbumPhoto } from '@/types/AlbumPhoto'\r\nimport AxiosRequest from './AxiosRequest'\r\n\r\n/** 照片接口请求 */\r\nexport class AlbumPhotoRequest extends AxiosRequest {\r\n    /** 更新照片信息 */\r\n    update(photo: AlbumPhoto) {\r\n        return super.post<boolean>('/album-photo/update', photo)\r\n    }\r\n\r\n    /** 删除照片 */\r\n    deletePhoto(photoId: number) {\r\n        return super.get<boolean>(`/album-photo/delete/${photoId}`)\r\n    }\r\n\r\n    /** 获取照片列表 */\r\n    listQuery(query: {albumId: number}) {\r\n        return super.post<AlbumPhoto[]>('/album-photo/list-query', query)\r\n    }\r\n}\r\nconst request = new AlbumPhotoRequest()\r\nexport default request\r\n","\r\nimport {\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  UploadOutlined,\r\n  FileImageOutlined\r\n} from '@ant-design/icons-vue'\r\nimport { AlbumPhoto } from '@/types/AlbumPhoto'\r\nimport { Options, Vue } from 'vue-class-component'\r\nimport request from '@/request/PhotoRequest'\r\nimport albumReq from '@/request/AlbumRequest'\r\nimport { message } from 'ant-design-vue'\r\nimport { ref, unref, toRaw } from 'vue'\r\nimport { ValidateErrorEntity } from 'ant-design-vue/lib/form/interface'\r\nimport { R } from '@/types/R'\r\n\r\n// 上传文件类型\r\ninterface FileItem {\r\n  uid: string;\r\n  name?: string;\r\n  status?: string;\r\n  response?: R<any>;\r\n  url?: string;\r\n  type?: string;\r\n  size: number;\r\n  originFileObj: any;\r\n}\r\n// 上传文件信息\r\ninterface FileInfo {\r\n  file: FileItem;\r\n  fileList: FileItem[];\r\n}\r\n\r\n@Options({\r\n  components: {\r\n    EditOutlined,\r\n    DeleteOutlined,\r\n    UploadOutlined,\r\n    FileImageOutlined\r\n  }\r\n})\r\nexport default class Album extends Vue {\r\n  // 表单引用\r\n  formRef = ref<AntType.Form>()\r\n  // 照片\r\n  photos: AlbumPhoto[] = []\r\n  // 照片预览\r\n  preview = {\r\n    visible: false,\r\n    // current: 1,\r\n    onVisibleChange: (visible: boolean) => {\r\n      this.preview.visible = visible\r\n    }\r\n  }\r\n\r\n  // 照片弹框\r\n  photoInfoDialog = {\r\n    title: '照片信息',\r\n    visible: false,\r\n    confirmLoading: false\r\n  }\r\n\r\n  // 照片信息\r\n  formData: AlbumPhoto = {}\r\n\r\n  rules = {\r\n    name: [{ required: true, message: '照片名称不能为空' }, { max: 10, message: '照片名称最多10个字符' }],\r\n    description: [{ max: 100, message: '照片描述最多100个字符' }]\r\n  }\r\n\r\n  // 相册ID\r\n  albumId = 0\r\n\r\n  // 加载图片\r\n  mounted() {\r\n    this.albumId = Number(this.$route.query.albumId)\r\n    this.albumId && request.listQuery({ albumId: this.albumId }).then(res => {\r\n      if (res.code === 0) {\r\n        this.photos = res.data\r\n      } else {\r\n        message.error(res.msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 预览图片\r\n   * @param index 图片下标\r\n   */\r\n  onView(index: number) {\r\n    this.preview.visible = true\r\n    // this.preview.current = index\r\n  }\r\n\r\n  /**\r\n   * 编辑照片\r\n   * @param photo 照片对象\r\n   */\r\n  onEdit(photo: AlbumPhoto) {\r\n    this.formData = { ...photo }\r\n    this.photoInfoDialog.visible = true\r\n  }\r\n\r\n  /**\r\n   * 将照片设为相册封面\r\n   * @param photo 照片\r\n   */\r\n  onCover(photo: AlbumPhoto) {\r\n    const cover = { cover: photo.thumbObjectName, albumId: this.albumId }\r\n    albumReq.setCover(cover).then(res => {\r\n      if (res.code === 0) {\r\n        message.success(`照片<${photo.name}>已设为相册封面`)\r\n      } else {\r\n        message.error(res.msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 删除照片\r\n   * @param photo 照片对象\r\n   */\r\n  onDelete(photo: AlbumPhoto) {\r\n    request.deletePhoto(photo.id as number).then(res => {\r\n      if (res.code !== 0) {\r\n        message.error(res.msg)\r\n      } else {\r\n        message.success('删除成功')\r\n        this.photos = this.photos.filter(item => item.id !== photo.id)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 保存照片信息\r\n   */\r\n  onSavePhoto() {\r\n    const formUnref = unref(this.formRef)\r\n    formUnref && formUnref.validate().then(async () => {\r\n        this.photos.forEach(item => {\r\n          if (item.id === this.formData.id) {\r\n            request.update(toRaw(this.formData)).then(res => {\r\n              if (res.code !== 0) {\r\n                message.error(res.msg)\r\n              } else {\r\n                item.name = this.formData.name\r\n                item.description = this.formData.description\r\n                this.photoInfoDialog.visible = false\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }).catch((error: ValidateErrorEntity<unknown>) => {\r\n        console.log('error', error)\r\n      })\r\n  }\r\n\r\n  /**\r\n   * 返回主页\r\n   */\r\n  handleBack() {\r\n    this.$router.back()\r\n  }\r\n\r\n  /**\r\n   * 返回照片可访问地址\r\n   * @param photo 照片对象\r\n   */\r\n  photoSrc(photo: AlbumPhoto) {\r\n    if (photo.thumbObjectName?.startsWith('http')) {\r\n      return photo.thumbObjectName\r\n    } else {\r\n      return '/file/download/' + photo.thumbObjectName\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 上传前验证\r\n   */\r\n  beforeUpload(file: FileItem) {\r\n    const isLt5M = file.size / 1024 / 1024 < 5\r\n    if (!isLt5M) {\r\n      message.error('上传照片不能大于 5MB!')\r\n    }\r\n    return isLt5M && file.type?.startsWith('image/')\r\n  }\r\n\r\n  /**\r\n   * 上传照片\r\n   */\r\n  handleUpload(info: FileInfo) {\r\n    if (info.file.status === 'uploading') {\r\n      return false\r\n    }\r\n    if (info.file.status === 'done') {\r\n      if (info.file.response?.code === 0) {\r\n        this.photos.push(info.file.response.data)\r\n      } else {\r\n        message.error(info.file.response?.msg as string)\r\n      }\r\n    }\r\n    if (info.file.status === 'error') {\r\n      message.error('上传失败')\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./Album.vue?vue&type=template&id=76330f4c&scoped=true\"\nimport script from \"./Album.vue?vue&type=script&lang=ts\"\nexport * from \"./Album.vue?vue&type=script&lang=ts\"\n\nimport \"./Album.vue?vue&type=style&index=0&id=76330f4c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-76330f4c\"\n\nexport default script"],"sourceRoot":""}